#version: '3'
#services:
#  # Application Dockerfile is in same folder which is .
#  app:
#    build: .
#
#  world-db:
#    build: world-db/.  # context is the folder where world.sql lives
#    restart: always
#    environment:
#      MYSQL_ROOT_PASSWORD: example
#      MYSQL_DATABASE: world
#      MYSQL_ROOT_HOST: '%'
#    ports:
#      - "33061:3306"

version: '3'
services:
  app:
    build: .
    depends_on:
      - world-db
    environment:
      - DB_HOST=world-db
      - DB_PORT=3306

  world-db:
    build: ./world-db
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: example
      MYSQL_DATABASE: world
      MYSQL_ROOT_HOST: '%'
    ports:
      - "33061:3306"