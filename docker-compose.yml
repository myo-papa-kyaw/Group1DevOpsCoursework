version: '3'
services:
  # Application Dockerfile is in same folder which is .
  app:
    build: .

  world-db:
    build: world-db/.  # context is the folder where world.sql lives
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: example
      MYSQL_DATABASE: world
      MYSQL_ROOT_HOST: '%'
    ports:
      - "33061:3306"

#version: '3.8'
#
#services:
#  world-db:
#    image: mysql:8.0
#    container_name: world-db
#    restart: always
#    environment:
#      MYSQL_ROOT_PASSWORD: example
#      MYSQL_DATABASE: world
#    ports:
#      - "3306:3306"
#    volumes:
#      - ./world-db/world.sql:/docker-entrypoint-initdb.d/world.sql
#
#  # Optional Java container if you want to run app inside Docker
#  app:
#    build: ./app
#    depends_on:
#      - world-db
#    environment:
#      DB_URL: jdbc:mysql://world-db:3306/world
#      DB_USER: root
#      DB_PASSWORD: example


